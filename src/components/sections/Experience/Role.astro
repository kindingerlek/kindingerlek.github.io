---
import Description from '@/components/Description.astro'
import TagList from '@/components/TagList.astro'
import type { JobRole } from './ExperienceSection.types'

interface Props extends JobRole {}

const { title, dates, description, tagsList } = Astro.props

const startDate = dates[0].toLocaleDateString('en-US', {
	year: 'numeric',
	month: 'short'
})

const endDate = dates[1]?.toLocaleDateString('en-US', {
	year: 'numeric',
	month: 'short'
})
---

<div class='flex sm:translate-x-4 sm:px-5'>
	<div class='timeline_dot hidden sm:block'>
		<span class='mt-1 block h-4 w-4 rounded-full bg-gray-700 dark:bg-gray-600'></span>
		<span class='timeline_line block h-full w-[2px] translate-x-[7px] bg-gray-700 dark:bg-gray-600'
		></span>
	</div>
	<div class='timeline_line bd-grid px-5'>
		<h3 class='mb-1 font-semibold'>{title}</h3>
		<span class='text-sm font-light'>
			{startDate} - {endDate ?? 'Present'}
		</span>
		<p class='my-2 text-justify'>
			<Description content={description} classList={['list-disc', 'text-muted-foreground']} />
		</p>
		<div class='py-4'><TagList {...tagsList} /></div>
	</div>
</div>
