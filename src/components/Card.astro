---
import { cn } from '@/utils'
import ImageSrc from './ImageSrc.astro'

type Props = {
	as?: 'a' | 'div'
	class?: string
	href?: string
	heading: string
	subheading: string
	date: string
	imagePath?: string
}

const { class: className, href, heading, subheading, date, imagePath } = Astro.props as Props
const Tag = href ? 'a' : 'div'
---

<Tag
	class={cn(
		className,
		'relative rounded-2xl border border-border bg-primary-foreground',
		href && 'transition-all hover:border-foreground/25 hover:shadow-sm'
	)}
	href={href}
>
	{
		imagePath && (
			<div class='aspect-3/2'>
				<ImageSrc alt={heading} class='object-cover' src={imagePath} />
			</div>
		)
	}
	<div class='flex flex-col gap-y-1.5 px-5 py-3'>
		<div class='flex flex-col gap-y-0.5'>
			<h1 class='text-lg font-medium'>{heading}</h1>
			<h2 class='text-muted-foreground'>{subheading}</h2>
			<h2 class='text-xs font-normal text-muted-foreground'>{date}</h2>
		</div>
	</div>
</Tag>
